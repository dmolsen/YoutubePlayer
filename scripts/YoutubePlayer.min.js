(function(a){function c(a,b,d){this.id=a;this.videoId=b;this.handlers={};this.ref=null;this.width="425";this.height="356";this.flashVersion="8";this.chromeless=false;this.objparams={allowScriptAccess:"always"};this.ytparams={version:3};this.attrs={id:this.id};var e=function(a,b){for(var c in a){b[c]=a[c]}};if(d){if(d.objparams)e(d.objparams,this.objparams);if(d.ytparams)e(d.ytparams,this.ytparams);if(d.attrs)e(d.attrs,this.attrs);if(d.width)this.width=d.width;if(d.height)this.height=d.height;if(d.flashVersion)this.flashVersion=d.flashVersion;if(d.chromeless)this.chromeless=d.chromeless}this.embed();c.register(this)}var b="";c.prototype.embed=function(){var a="";for(val in this.ytparams){a+="&"+val+"="+this.ytparams[val]}if(this.chromeless){var b="http://www.youtube.com/apiplayer?video_id={videoId}&version=3&enablejsapi=1&playerapiid={playerId}"}else{var b="http://www.youtube.com/v/{videoId}?enablejsapi=1&playerapiid={playerId}{yturlparams}"}b=b.replace("{videoId}",this.videoId);b=b.replace("{playerId}",this.id);b=b.replace("{yturlparams}",a);if(!swfobject){throw new ReferenceError("YoutubePlayer depends on the SWFObject library but it is missing.")}var c=this;swfobject.embedSWF(b,this.id,this.width,this.height,this.flashVersion,null,null,this.objparams,this.attrs,function(a){c.ref=a.ref})};c.prototype.on=c.prototype.at=function(a,b,c){c=typeof c=="undefined"?500:c;if(a.indexOf("-")!=-1){eventNames=a.split("-");startTime=parseInt(eventNames[0]);endTime=parseInt(eventNames[1]);while(endTime>=startTime){this.handlers[startTime.toString()]=this.handlers[startTime.toString()]||[];this.handlers[startTime.toString()].push(b);startTime+=c}}else if(a.indexOf(",")!=-1){eventNames=a.split(",");for(var d in eventNames){this.handlers[eventNames[d]]=this.handlers[eventNames[d]]||[];this.handlers[eventNames[d]].push(b)}}else{this.handlers[a]=this.handlers[a]||[];this.handlers[a].push(b)}};c.prototype.onReady=function(){var a=document.getElementById(this.id);b=this.id;a.addEventListener("onStateChange","YoutubePlayer.dispatchEvent")};c.prototype.notifyEvent=function(a){var b=c.STATES;for(var d in b){if(b[d]==a){this.fireEvent(d)}}};c.prototype.fireEvent=function(a){var b=this.handlers[a];if(!b){return}for(var c=0;c<b.length;c++){b[c](a)}};c.instances=[];c.register=function(a){this.instances.push(a)};c.findById=function(a){var b=null;for(var c=0;c<this.instances.length;c++){if(this.instances[c].id==a){b=this.instances[c]}}return b};c.dispatchEvent=function(a){var d=c.findById(b);d.notifyEvent(a)};c.STATES={unstarted:-1,ended:0,playing:1,paused:2,buffering:3,cued:5};a.YoutubePlayer=c;a.onYouTubePlayerReady=function(a){c.findById(a).onReady()}})(window)